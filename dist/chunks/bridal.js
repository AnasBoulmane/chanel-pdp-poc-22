(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1082:function(e,t,n){"use strict";n.r(t);n(7),n(15),n(113),n(83);var i=n(0),l=n(5),a=n(4),r=n.n(a),o=n(2),c=n(3),u=n(152);function s(){r()(document.body,"form[id=bridalForm]","submit",b);let e=Object(i.select)("form[id=bridalForm]"),t=e.catalogRequestRadio,n=Object(i.select)(".js-bridal-submit",e);for(let e=0;e<t.length;e++)t[e].addEventListener("change",(function(){d(t),this.value=!0,this.checked=!0;let e=this.previousElementSibling;e.value=this.value,"pdf"==e.name||"both"==e.name?n.setAttribute("title",this.getAttribute("data-pdf-fullname")):n.removeAttribute("title")}))}function d(e){for(let t=0;t<e.length;t++)e[t].value=!1,e[t].previousElementSibling.value=!1;for(let t=0;t<e.length;t++)e[t].checked=!1,e[t].previousElementSibling.checked=!1}function b(e){const t=e.delegateTarget;t.invalid.length?dataLayer.push({eventCategory:"bridal_catalog",eventAction:"error",eventLabel:f(t.invalid),event:"nievent"}):(e.preventDefault(),function(e){let t="";t="true"==e.paper?"paper":"true"==e.pdf?"pdf":"pdf|paper";dataLayer.push({eventCategory:"bridal_catalog",eventAction:"request",eventLabel:t,event:"uaevent"})}(t.serialize()),u.a().then(e=>{!function(e){let t="",n=Object(i.select)(".js-bridal-main-container");l.submit(e,{type:"blob"}).then((function(e){return t=e.headers,e.blob()})).then(a=>{if(a.type){let e="",n=t.get("Content-Disposition");if(n&&-1!==n.indexOf("attachment")){let t=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n);null!=t&&t[1]&&(e=t[1].replace(/['"]/g,""))}let i=document.createElement("a");i.href=window.URL.createObjectURL(a),i.download=e,i.click()}l.get(c.a.webservices.bridal.confirmation,{type:"text"}).then(t=>{n.innerHTML=t;let l=Object(i.select)(".js-bridal-confirmation-title",n);l&&Object(o.n)(l),r()(n,".js-bridal-confirmation","click",p),e.serialize().optInNewsletter&&dataLayer.push({eventCategory:"preferences",eventAction:"subscribe",eventLabel:"jewelry_watches",event:"uaevent"})}).catch(e=>{console.log("An error occured while bridal template loading")}),document.body.scrollTop=0,document.documentElement.scrollTop=0}).catch(e=>{console.log("An error occured while Bridal form submission")})}(t)}))}function f(e){let t="",n="",i="";for(let l=0;l<e.length;l++)n=e[l].el.getAttribute("autocomplete"),i=0==l?n+" is required":"|"+n+" is required",t+=i;return t}function p(e){e.preventDefault(),dataLayer.push({eventCategory:"bridal_catalog",eventAction:"click",eventLabel:"fine_jewelry_cta",event:"uaevent"});let t=e.target.getAttribute("href");window.open(t,"_self")}t.default=function(e){return new s(e)}}}]);