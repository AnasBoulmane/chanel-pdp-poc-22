(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1080:function(e,t,n){"use strict";n.r(t);var o=n(4),i=n.n(o),a=n(0),l=n(496),c=n(31),s=n(3),d=n(13),u=n(150);let r,g,p,w,b,m,f,v,h,A,B,k;function L(e){e&&y(e)}const y=e=>{const t=Object(a.select)(".js-main-content");t&&t.setAttribute("data-test","secDetails"),k=JSON.parse(document.getElementById("js-oab-cancellation-data").textContent),j(e),g=Object(a.select)("[data-step=cancellation]",e),p=Object(a.select)("[data-step=confirmation]",e),w=Object(a.select)(".js-cancel-appointment-cta",e),m=Object(a.select)(".js-cancellation-confirmation-title",e),f=k.appointmentId||"",v=k.serviceName||"",h=k.refundable||!1,A=k.payable||!1,i()(e,".js-cancel-appointment-cta","click",()=>{q(e)}),window.document.DLKit.push("oab-when-user-cancel-appointment",{eventAction:"cancellation page",eventLabel:v})},j=e=>{const t=document.documentElement.lang,n=k.dateValue,o=k.timeValue,i=Object(a.select)(".js-appointment-date",e),l=Object(a.select)(".js-appointment-time",e);if(n&&o){const e="".concat(n,"T").concat(o).split(/[^0-9]/);r=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])}i&&l&&(i.innerHTML=r.toLocaleDateString(t,{weekday:"long",month:"long",day:"numeric"}),l.innerHTML=r.toLocaleTimeString(t,{hourCycle:"h23",hour:"2-digit",minute:"2-digit"}))},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;b&&b.destroy(e)},q=e=>{B="true"==h?"cancel_and_refund":"cancel",dataLayer.push({eventCategory:"appointment",eventAction:B,eventLabel:v,event:"uaevent"}),function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b=new d.a(e,{delay:0,button:t}),b.init(),b.create()}(w,!0),l.a.deleteAppointmentBooking({id:f,payable:A,refundable:h}).then(e=>{if(C(),"true"===e.iscancelled)g&&p&&(p.style.height=g.offsetHeight,g.setAttribute("hidden",""),p.removeAttribute("hidden"),m&&Object(u.a)(m.innerHTML,""," | ")),window.document.DLKit.push("oab-when-user-cancel-appointment",{eventAction:"cancellation confirmed",eventLabel:v});else if("redirect"===e.iscancelled){let e=window.location.href+"?id="+f;window.location.href=e}else c.a.show({name:s.a.locales.notifier.request.label,message:s.a.locales.notifier.request.message,close:s.a.locales.notifier.request.close})}).catch(e=>{C(),c.a.show({name:s.a.locales.notifier.request.label,message:s.a.locales.notifier.request.message,close:s.a.locales.notifier.request.close})})};t.default=function(e){return new L(e)}},496:function(e,t,n){"use strict";var o=n(5);const i={getDateAndTime:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];o.get(window.config.webservices.oab.dateSelection,{data:e}).then(t[0],t[1],t[2])},getEventDateAndTime:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];o.get(window.config.webservices.oab.eventDateSelection,{data:e}).then(t[0],t[1],t[2])},getAvailableBoutiques:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];o.get(window.config.webservices.oab.boutiqueList,{data:e}).then(t[0],t[1],t[2])},getAvailableBoutiquesByService:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];o.get(window.config.webservices.oab.boutiqueListByService,{data:e}).then(t[0],t[1],t[2])},getAvailableBoutiquesByEvent:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];o.get(window.config.webservices.oab.boutiqueListByEvent,{data:e}).then(t[0],t[1],t[2])},postDatetimeFormData:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];new Promise(e=>{e({data:["11:00 AM","13:00 pm","16:00 pm","17:00 AM","14:30 AM"]})}).then(t[0],t[1],t[2])},getServiceList:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];o.get(window.config.webservices.oab.serviceList,{data:e}).then(t[0],t[1],t[2])},getCategoryList:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,null,null];o.get(window.config.webservices.oab.categoryList,{data:e}).then(t[0],t[1],t[2])},getCategoryCollectionList:e=>o.get(window.config.webservices.oab.categoryCollectionList,{data:e}),addAppointmentBooking:e=>o.post(window.config.webservices.oab.postAppointmentBooking,{data:e}),addEventAppointmentBooking:e=>o.post(window.config.webservices.oab.postEventAppointmentBooking,{data:e}),postAppointmentBookingConfirmation:e=>o.post(window.config.webservices.oab.confirmBooking,{data:e}),postAppointmentEventBookingConfirmation:e=>o.post(window.config.webservices.oab.eventConfirmBooking,{data:e}),postAppointmentStartCheckout:e=>o.post(window.config.webservices.oab.confirmOABEventBooking,{data:e}),postAppointmentGuestBookingConfirmation:e=>o.post(window.config.webservices.oab.confirmGuestBooking,{data:e}),postAppointmentGuestEventBookingConfirmation:e=>o.post(window.config.webservices.oab.confirmGuestEventBooking,{data:e}),deleteAppointmentBooking:e=>o.post(window.config.webservices.oab.cancelBooking,{data:e})};t.a=i}}]);